<div class="me-container">
  <!-- Loader -->
  <div *ngIf="loading" class="loader-container">
    <div class="spinner-border" role="status">
      <span class="visually-hidden">Chargement...</span>
    </div>
  </div>

  <!-- Message d'erreur -->
  <div *ngIf="error" class="error-message">
    {{ error }}
    <div *ngIf="debugInfo" class="debug-section">
      <button class="debug-toggle" type="button" data-bs-toggle="collapse" data-bs-target="#debugInfo" aria-expanded="false" aria-controls="debugInfo">
        Afficher les détails techniques
      </button>
      <div class="collapse" id="debugInfo">
        <div class="debug-content">
          <pre>{{ debugInfo }}</pre>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="!loading && !error && user">
    <h1 class="profile-title">Profil utilisateur</h1>
    
    <!-- Section informations personnelles -->
    <div class="profile-section">
      <input type="text" class="profile-input" [value]="user.username" disabled>
      <input type="email" class="profile-input" [value]="user.email" disabled>
      <input type="password" class="profile-input" value="••••••••" disabled>
      
      <button class="save-button">Sauvegarder</button>
    </div>
    
    <hr class="section-divider">
    
    <!-- Section abonnements -->
    <h2 class="section-title">Abonnements</h2>
    
    <div *ngIf="subscriptions.length === 0" class="no-subscriptions">
      Vous n'êtes abonné à aucun thème. Parcourez nos thèmes pour vous abonner.
    </div>
    
    <div class="subscriptions-grid" *ngIf="subscriptions.length > 0">
      <div class="theme-card" *ngFor="let subscription of subscriptions">
        <h3 class="theme-title">{{ subscription.themeName }}</h3>
        <p class="theme-description">
          Description: lorem ipsum is simply dummy text of the 
          printing and typesetting industry. Lorem Ipsum has 
          been the industry's standard...
        </p>
        <button class="unsubscribe-button" (click)="unsubscribe(subscription.themeId)">
          Se désabonner
        </button>
      </div>
    </div>
    
    <!-- Informations de débogage (si besoin) -->
    <div *ngIf="showingDebugInfo && debugInfo" class="debug-panel">
      <h3 class="debug-title">Informations de débogage</h3>
      <pre class="debug-content">{{ debugInfo }}</pre>
    </div>
  </div>
</div>
