<div class="container">
  <div class="article-header">
    <button mat-icon-button class="back-button" (click)="goBack()">
      <mat-icon>arrow_back</mat-icon>
    </button>
    <h1>{{ article?.title }}</h1>
  </div>

  <div class="article-meta">
    <span class="date">{{ article?.dateCreation | date:'dd/MM/yyyy' }}</span>
    <span class="author">{{ article?.author?.username }}</span>
    <span class="theme">{{ article?.themeName || article?.theme?.name || 'Sans thème' }}</span>
  </div>

  <div class="article-content">
    <p>{{ article?.content }}</p>
  </div>

  <div class="comments-section">
    <h2>Commentaires</h2>
    
    <div class="comments-list">
      <div class="comment-wrapper" *ngFor="let comment of comments">
        <div class="comment-header">
          <span class="username">{{ comment.authorUsername }}</span>
        </div>
        <div class="comment">
          <div class="comment-content">
            <p>{{ comment.content }}</p>
          </div>
        </div>
      </div>
    </div>

    <div class="comment-form">
      <div class="comment-input-container">
        <mat-form-field class="comment-input" appearance="outline">
          <mat-label>Écrivez ici votre commentaire</mat-label>
          <textarea matInput [(ngModel)]="newComment" rows="4"></textarea>
        </mat-form-field>
        <button mat-icon-button color="primary" class="send-button" (click)="submitComment()" [disabled]="!newComment.trim()">
          <mat-icon>send</mat-icon>
        </button>
      </div>
    </div>
  </div>
</div> 